%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%       ADVANCED PROGRAMMING         %%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% !TeX program = lualatex
\documentclass[a4paper,10pt,twoside,english]{book}
%\documentclass[a4paper,twoside,english]{book}


\usepackage[
paperwidth=16.99cm,
paperheight=24.40cm,
left=2.4cm,
right=2cm,
top=2.95cm,
bottom=2.2cm,
twoside
]{geometry}


\usepackage[width=16.99truecm,height=24.40truecm,center]{crop}
%\usepackage[frame,width=16.99truecm,height=24.40truecm,center]{crop}
%\usepackage[a4,frame,center]{crop}


\usepackage{epic}
\include{./doc/format/packages}
\include{./doc/format/listings}
\include{./doc/format/luamacros}


%\usepackage{parskip}
%\setlength{\parskip}{1cm plus 4mm minus 3mm}
%\setlength\parindent{18pt}



\graphicspath{ {images/} }
\newcommand{\folder}{./libraries}

\usepackage{amsfonts}

%MIGUEL
\usepackage{rotating}
\newcommand\myfunc[5]{%
    \begingroup
    \setlength\arraycolsep{0pt}
    #1\colon\begin{array}[t]{c >{{}}c<{{}} c}
        #2 & \to & #3 \\ #4 & \to & #5 
    \end{array}%
    \endgroup}


\usepackage{amsmath}
%\DeclareMathOperator{\Tr}{Tr}



%LINEAS NUEVAS
\newlength\myheight
\newlength\mydepth
\settototalheight\myheight{Xygp}
\settodepth\mydepth{Xygp}
\setlength\fboxsep{0pt}


% Replace the title of the table of contents 
\addto\captionsenglish{
    \renewcommand{\contentsname}%
    {Contents}% Here it goes the new title
}


%_______________________________________________________________________________
\usepackage{titling} % Allows custom title configuration

\bibliographystyle{abbrvnat}
\addto\captionsenglish{\renewcommand{\bibname}{References}}		%It changes name of bibliography to References using natbib

\definecolor{DarkGoldenrod}{rgb}{0.8,0.6,0.1}
\definecolor{DarkRed}{rgb}{0.5,0.1,0.1}
\definecolor{DarkRedPart}{rgb}{0.3,0.1,0.2}

% Defines the gold horizontal rule around the title
%\newcommand{\HorRule}{\color{DarkGoldenrod} \rule{\linewidth}{1pt}}

%Makes the font of the bibliography a little bit smaller to adjust it to one page.
\renewcommand*{\bibfont}{\footnotesize} 


% Horizontal rule before the title
\pretitle{\vspace{-150pt} \begin{flushleft} \HorRule \fontsize{34}{34}
		\usefont{OT1}{phv}{b}{n} \color{DarkRed} \selectfont}
	% Your article title	
	\title{{\fontsize{27}{33}\selectfont Advanced Programming for \\ Numerical Calculations: 
	 \\  \vspace{0.8cm} } 
	 {\fontsize{27}{33}\selectfont Climbing Python \& Fortran\\ }
	 }
	
	% Whitespace under the title	
	\posttitle{\par\end{flushleft}\vskip 0.5em} 

% Author font configuration
\preauthor{	
\begin{flushleft} 
    \large \lineskip 0.5em \usefont{OT1}{phv}{b}{sl} \color{DarkRed}}	 	
	\author{ Juan Antonio Hern\'andez Ramos\\ 	
  	         Miguel \'Angel Rapado Tamarit\\
            \vspace{5cm} } % Your name. En función de los nombres poner más espacio en el vspace o menos, para dejar la línea abajo del todo
         
        % Configuration for the institution name
        \postauthor{\footnotesize \usefont{OT1}{phv}{m}{sl} \color{Black}
        Department of Applied Mathematics \\
        School of Aeronautical and Space Engineering \\
        Technical University of Madrid (UPM)		
	\par 
\end{flushleft}
\HorRule % Horizontal rule after the title
}

\date{  } % Add a date here if you would like one to appear underneath the title block


\usepackage{tocloft}
\setlength{\cftbeforechapskip}{0.4cm}

\usepackage{hyperref}

\newcommand{\link}[2]
{  
\color{red}    
\href{#2}{#1}                     
\color{black}  
}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%\pagestyle{empty}
\begin{document}
 
  
   
    \maketitle
    \thispagestyle{empty}   %Le quita el número de página y las líneas arriba y abajo a la parte de atrás de la portada. 
    %\cleardoublepage       %Deja en blanco la página de detrás de la portada y no se numera
    
    %______________________________________________________________________________________________________
    %Para la página de detrás de la portada, la hacemos a mano que es más sencillo y da menos problemas.  
    
    \noindent  Cover: 
    \vspace{0.2cm}
    
    \noindent Programming and mountain climbing are not such dissimilar activities. 
    In both worlds, you start slowly, little by little. 
    We start programming with a ``hello world" just as we start 
    with a circular route of a few kilometers and little slope.
     But as time goes by, we add time spent in routes with family and friends 
     and scripts to solve class work, personal projects, or even complete doctoral theses.
    
    This book is the last slope before reaching the peak. 
    It's that urge to say: ``come on, there's nothing left, there's the summit" after several kilometers. 
    In this book, you will find advanced programming techniques of two great languages, 
    Python and Fortran, to climb the ``numerical calculations" like a true professional.
    
    These words are inspired by the photo on the cover of this book. The photo was taken in the last minutes of arriving at the Urriellu 
    refuge in Asturias, Spain.
    
    I hope you enjoy this book as much as I enjoy programming and climbing mountains. 
    Thank you, dad, for showing me both worlds.
    
    \vspace{1cm}
    \noindent Cover design: 
    \vspace{0.2cm}
    
    \noindent Laura Hernández \& Cristina de Lorenzo
   
 
    \vfill  
    \begin{minipage}[b]{0.9\textwidth}
     %   This manual is aimed at the Aerospace Engineering students of the Technical University of Madrid who may start programming different 
     %languages with Microsoft Visual Studio. It is also for anyone interested in start using this complete tool from scratch. Additional 
     %content can be downloaded from \url{https://github.com/jahrWork}. The manual has been written with the idea of increasing all the 
     %information presented and improving the contents. Ideas for something to be added, deleted or changed would be kindly appreciated. In 
     %addition, corrections and feedback about anything that could be improved or better explained are welcomed. All contributions can be 
     %made 
     %in:
        
%        \vspace*{2\baselineskip}
%        Miguel Ángel Rapado Tamarit \newline
%        \textcolor{Blue}{marapadotamarit@gmail.com}
%        \vspace*{3\baselineskip}
%        
        %\footnotesize\raggedright
        
    \end{minipage}
    
    \noindent
    All rights reserved.
    No part of this publication may be reproduced or transmitted in any form or by any means, electronic or mechanical, including photocopy, recording, or any information storage and retrieval system, without permission in writing from the authors. 
    \vspace{2\baselineskip}
    

       \noindent \copyright  \ \ 2022 Juan Antonio Hernández Ramos 
       \hspace{0.7cm}     Miguel Ángel Rapado Tamarit
    
    \vspace{0.5cm}            
    \noindent ISBN 979-8352363232
    %\noindent Depósito Legal: M-3036-2001
    \clearpage
    
  
    %______________________________________________________________________________________________________
    \frontmatter
    
    \pagenumbering{roman}
    
    \parskip = \baselineskip %  plus 4mm minus 3mm}  
   % \input{./doc/Chapters/Preface.tex}
    
    \newpage
    \setlength{\parskip}{0pt}
    \tableofcontents
    ~\clearpage


    \pagenumbering{arabic}
    
    \parskip = \baselineskip
    
    %______________________________________________________________________________________________________
    \mainmatter
  
    \newcommand\home{./Fortran_project/sources/IEEE}
  
   \input{./doc/Chapters/Introduction.tex}
    
  \part{Foundations}\label{PartI}
         \input{./doc/Chapters/part_I/Introduction.tex}
         \input{./doc/Chapters/part_I/Operations.tex}
         \input{./doc/Chapters/part_I/sum_series.tex}
         \input{./doc/Chapters/part_I/matrices.tex}
         \input{./doc/Chapters/part_I/functions.tex}
         \input{./doc/Chapters/part_I/RW_files.tex} 
         \input{./doc/Chapters/part_I/Overview.tex}
   
 % \end{document}       
 
  \part{Computer operations with integers and reals}\label{PartII} 
       \input{./doc/Chapters/part_II/Overview.tex}
       \input{./doc/Chapters/part_II/Integers.tex}
       \input{./doc/Chapters/part_II/IEEE.tex}
       %\input{./doc/Chapters/part_II/stability.tex}
       
   
   
  
  \part{Advanced programming}\label{PartIII}
       \input{./doc/Chapters/Part_III/overview.tex}  
       \input{./doc/Chapters/Part_III/scope.tex}  
       \input{./doc/Chapters/Part_III/functional_programming.tex}     
       \input{./doc/Chapters/Part_III/overloading.tex} 
       \input{./doc/Chapters/Part_III/objects.tex}
      
       \input{./doc/Chapters/Part_III/pointers.tex}
       \input{./doc/Chapters/Part_III/wrappers.tex} 
       %\input{./doc/Chapters/Part_III/unit_testing.tex} 
       %\input{./doc/Chapters/Part_III/mixing.tex}
       \input{./doc/Chapters/Part_III/parallel.tex}
       %\input{./doc/Chapters/Part_III/misc.tex}
       
   

 % \part{Software development}\label{PartIV}
       %\input{./doc/Chapters/Part_IV/Software_development.tex}
       
   
    
    %______________________________________________________________________________________________________
    \backmatter
    
    %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
    %%                              REFERENCES                               %%
    %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
    %\nocite{*}          %Para que aparezcan todas las entradas de la bibliografía aunque no hayan sido mencionadas en el texto
                        %Sin embargo, toda entrada de la bibliografía DEBE ser mencionada en el texto...Con \nocite{<key>} incluyo una concreta.
  % \vspace{-2cm}                    
%    \bibliography{./doc/Chapters/References.bib}
%    \addcontentsline{toc}{chapter}{References}
    
\end{document}